# ${license-info}
# ${developer-info}
# ${author-info}


=head1 NAME

nfs: NCM component for NFS entries in /etc/exports and /etc/fstab

=head1 DESCRIPTION

The I<nfs> component manages entries for NFS in the /etc/exports 
and the /etc/fstab files.

=head1 RESOURCES

=head2 /software/components/nfs/exports

This is a list of named lists with "path" giving the export path and
"hosts" being a list of host/option entries in the usual NFS format
(e.g. "nfsclient.example.org(rw)").  Note that the values in "hosts"
may NOT contain embedded spaces.  This restriction is not checked in
the schema!

If a path is listed more than once, then the last entry will be used
to generate the exports file.

=head2 /software/components/nfs/mounts

This is a list of named lists.  The named lists must include values
for "device", "mountpoint", and "fstype".  The named lists may contain
values for "options", "freq", and "passno"; the defaults being
"defaults", 0, and 0, respectively.

If is device is listed multiple times, then the last entry will be
used to generate a line in the /etc/fstab file.  Entries are added in
the order given in the list AFTER preexisting entries in the fstab
file.

If the mounts change, then the component will attempt to unmount any
mounts which are removed and mount any new ones.  If the options
change, then the volume will be remounted.

=head1 NFS

"/software/components/nfs/exports" = list(
  nlist("path","/shared/path/",
        "hosts",list("server*.example.org(no_root_squash)"))
);

# If the SE is exporting its disk, mount it on the worker nodes.
"/software/components/nfs/mounts" = list(
  nlist("device","foreign.example.org:/shared/path/",
        "mountpoint","/mnt/foreign",
        "fstype","nfs",
        "options","rw")
);

=cut
